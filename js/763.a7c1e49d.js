"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[763],{1763:function(t,e,a){a.r(e),a.d(e,{default:function(){return G}});var l=a(3396),n=a(4870),c=a(9242),s=a(2268),o=a(7139);const u={class:"container my-3 px-0 py-3"},r={class:"mb-3 p-3"},m=["data-theme"],d={class:"container"},f={class:"row row-cols-3"},h={class:"col"},p=["data-theme"],v=(0,l.Uk)(" t1 "),i={class:"col"},_=["data-theme"],U=(0,l.Uk)(" t2 "),b={class:"col"},w=["data-theme"],k=(0,l.Uk)(" t3 "),y=["data-theme"],E=(0,l.Uk)(" t4 ( 不是 ref 變數, 所以不會觸發 watchEffect) "),x=["data-theme"],S=(0,l.Uk)(" 觸發 watchEffect 就改變下面的文字 "),$=(0,l._)("br",null,null,-1),g=(0,l.Uk)(' "'),H=(0,l.Uk)('" '),V=(0,l._)("pre",{class:"bg-dark text-light p-2"},"const t1 = ref('')\r\nconst t2 = ref('')\r\nconst t3 = ref('')\r\nconst t4 = ''\r\nwatchEffect(() => {\r\n  // 因 t4 不是 ref 宣告變數, 故無法監聽到值的改變\r\n  watchEddect1.value = `${t1.value}${t2.value}${t3.value}${t4}`\r\n})",-1),C={class:"mb-3 p-3"},z=["data-theme"],W=["data-theme"],D=["data-theme"],N=(0,l.Uk)(' num: "'),R=(0,l.Uk)(),j=(0,l._)("br",null,null,-1),q=(0,l.Uk)(" watchEffect 狀態: "),A=(0,l._)("pre",{class:"bg-dark text-light p-2"},"const num = ref(0)\r\nconst stopWatchEffect = watchEffect(() => {\r\n  console.log('有執行, num:', num.value)\r\n  if (num.value === 3) stopWatchEffect()\r\n})\r\nfunction addNum () {\r\n  if (num.value === 3) return\r\n  num.value++\r\n}",-1);var B={name:"WatchEffect",setup(t){const e=(0,o.oR)(),a=e.state.theme,B=(0,n.Vh)(a,"theme"),F=(0,n.iH)(""),G=(0,n.iH)(""),I=(0,n.iH)(""),J=(0,n.iH)(""),K="";(0,l.m0)((()=>{F.value=`${G.value}${I.value}${J.value}${K}`}));const L=(0,n.iH)(0),M=(0,l.m0)((()=>{console.log("有執行, num:",L.value),3===L.value&&M()}));function O(){3!==L.value&&L.value++}return(t,e)=>((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("section",r,[(0,l._)("h2",{class:"text-20 mb-1","data-theme":(0,n.SU)(B)},'1. watchEffect 的任何 "ref" 依賴改變, 都會觸發執行',8,m),(0,l._)("div",d,[(0,l._)("div",f,[(0,l._)("div",h,[(0,l._)("label",{for:"t1",class:"form-label","data-theme":(0,n.SU)(B)},[v,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"t1","onUpdate:modelValue":e[0]||(e[0]=t=>G.value=t),placeholder:"輸入文字"},null,512),[[c.nr,G.value]])],8,p)]),(0,l._)("div",i,[(0,l._)("label",{for:"t2",class:"form-label","data-theme":(0,n.SU)(B)},[U,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"t2","onUpdate:modelValue":e[1]||(e[1]=t=>I.value=t),placeholder:"輸入文字"},null,512),[[c.nr,I.value]])],8,_)]),(0,l._)("div",b,[(0,l._)("label",{for:"t3",class:"form-label","data-theme":(0,n.SU)(B)},[k,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"t3","onUpdate:modelValue":e[2]||(e[2]=t=>J.value=t),placeholder:"輸入文字"},null,512),[[c.nr,J.value]])],8,w)])]),(0,l._)("div",null,[(0,l._)("label",{for:"t4",class:"form-label","data-theme":(0,n.SU)(B)},[E,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"t4","onUpdate:modelValue":e[3]||(e[3]=t=>K=t),placeholder:"輸入文字"},null,512),[[c.nr,K]])],8,y)])]),(0,l._)("p",{class:"my-1","data-theme":(0,n.SU)(B)},[S,$,g,(0,l._)("code",null,(0,s.zw)(F.value),1),H],8,x),V]),(0,l._)("section",C,[(0,l._)("h2",{class:"text-20 mb-1","data-theme":(0,n.SU)(B)},"2. 移除 watchEffect 監聽",8,z),(0,l._)("p",{class:"my-1","data-theme":(0,n.SU)(B)}," num === 3 就解除 watchEffect 監聽 ",8,W),(0,l._)("button",{type:"button",class:"btn btn-secondary me-2 p-1",onClick:O},"點我 num +1"),(0,l._)("p",{class:"my-1","data-theme":(0,n.SU)(B)},[N,(0,l._)("code",null,(0,s.zw)(L.value)+'"',1),R,j,q,(0,l._)("span",{class:(0,s.C_)(3==L.value?"text-secondary":"text-success")},'"'+(0,s.zw)(3===L.value?"off":"on")+'"',3)],8,D),A])]))}};const F=B;var G=F}}]);
//# sourceMappingURL=763.a7c1e49d.js.map