{"version":3,"file":"js/763.a7c1e49d.js","mappings":"+6CA8EA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAAaF,EAAMG,MAAMC,MACzBA,GAAQC,EAAAA,EAAAA,IAAMH,EAAY,SAC1BI,GAAeC,EAAAA,EAAAA,IAAI,IAGnBC,GAAKD,EAAAA,EAAAA,IAAI,IACTE,GAAKF,EAAAA,EAAAA,IAAI,IACTG,GAAKH,EAAAA,EAAAA,IAAI,IACTI,EAAK,IACXC,EAAAA,EAAAA,KAAY,KAEVN,EAAaO,MAAS,GAAEL,EAAGK,QAAQJ,EAAGI,QAAQH,EAAGG,QAAQF,OAI3D,MAAMG,GAAMP,EAAAA,EAAAA,IAAI,GACVQ,GAAkBH,EAAAA,EAAAA,KAAY,KAClCI,QAAQC,IAAI,YAAaH,EAAID,OACX,IAAdC,EAAID,OAAaE,OAEvB,SAASG,IACW,IAAdJ,EAAID,OACRC,EAAID,Q,m2DClGN,MAAMM,EAAc,EAEpB","sources":["webpack://vue-template/./src/views/WatchEffect.vue","webpack://vue-template/./src/views/WatchEffect.vue?4a47"],"sourcesContent":["<template>\r\n  <div class=\"container my-3 px-0 py-3\">\r\n    <!-- WatchEffect 監聽的任何依賴改變, 都會觸發執行 -->\r\n    <section class=\"mb-3 p-3\">\r\n      <h2 class=\"text-20 mb-1\" :data-theme=\"theme\">1. watchEffect 的任何 \"ref\" 依賴改變, 都會觸發執行</h2>\r\n      <div class=\"container\">\r\n        <div class=\"row row-cols-3\">\r\n          <div class=\"col\">\r\n            <label for=\"t1\" class=\"form-label\" :data-theme=\"theme\">\r\n              t1\r\n              <input type=\"text\" class=\"form-control\" id=\"t1\" v-model=\"t1\" placeholder=\"輸入文字\">\r\n            </label>\r\n          </div>\r\n          <div class=\"col\">\r\n            <label for=\"t2\" class=\"form-label\" :data-theme=\"theme\">\r\n              t2\r\n              <input type=\"text\" class=\"form-control\" id=\"t2\" v-model=\"t2\" placeholder=\"輸入文字\">\r\n            </label>\r\n          </div>\r\n          <div class=\"col\">\r\n            <label for=\"t3\" class=\"form-label\" :data-theme=\"theme\">\r\n              t3\r\n              <input type=\"text\" class=\"form-control\" id=\"t3\" v-model=\"t3\" placeholder=\"輸入文字\">\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label for=\"t4\" class=\"form-label\" :data-theme=\"theme\">\r\n            t4 ( 不是 ref 變數, 所以不會觸發 watchEffect)\r\n            <input type=\"text\" class=\"form-control\" id=\"t4\" v-model=\"t4\" placeholder=\"輸入文字\">\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <p class=\"my-1\" :data-theme=\"theme\">\r\n        觸發 watchEffect 就改變下面的文字 <br />\r\n        \"<code>{{ watchEddect1 }}</code>\"\r\n      </p>\r\n      <pre class=\"bg-dark text-light p-2\">\r\nconst t1 = ref('')\r\nconst t2 = ref('')\r\nconst t3 = ref('')\r\nconst t4 = ''\r\nwatchEffect(() => {\r\n  // 因 t4 不是 ref 宣告變數, 故無法監聽到值的改變\r\n  watchEddect1.value = `${t1.value}${t2.value}${t3.value}${t4}`\r\n})</pre>\r\n    </section>\r\n\r\n    <!-- 移除 WatchEffect 監聽 -->\r\n    <section class=\"mb-3 p-3\">\r\n      <h2 class=\"text-20 mb-1\" :data-theme=\"theme\">2. 移除 watchEffect 監聽</h2>\r\n      <p class=\"my-1\" :data-theme=\"theme\">\r\n        num === 3 就解除 watchEffect 監聽\r\n      </p>\r\n      <button type=\"button\" class=\"btn btn-secondary me-2 p-1\" @click=\"addNum\">點我 num +1</button>\r\n\r\n      <p class=\"my-1\" :data-theme=\"theme\">\r\n        num: \"<code>{{ num }}\"</code> <br />\r\n        watchEffect 狀態: <span :class=\"num==3?'text-secondary':'text-success'\">\"{{ num===3?'off':'on' }}\"</span>\r\n      </p>\r\n      <pre class=\"bg-dark text-light p-2\">\r\nconst num = ref(0)\r\nconst stopWatchEffect = watchEffect(() => {\r\n  console.log('有執行, num:', num.value)\r\n  if (num.value === 3) stopWatchEffect()\r\n})\r\nfunction addNum () {\r\n  if (num.value === 3) return\r\n  num.value++\r\n}</pre>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, toRef, watchEffect } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst store = useStore()\r\nconst themeStore = store.state.theme\r\nconst theme = toRef(themeStore, 'theme')\r\nconst watchEddect1 = ref('')\r\n\r\n// part 1\r\nconst t1 = ref('')\r\nconst t2 = ref('')\r\nconst t3 = ref('')\r\nconst t4 = ''\r\nwatchEffect(() => {\r\n  // 因 t4 不是 ref 宣告變數, 故無法監聽到值的改變\r\n  watchEddect1.value = `${t1.value}${t2.value}${t3.value}${t4}`\r\n})\r\n\r\n// part 2\r\nconst num = ref(0)\r\nconst stopWatchEffect = watchEffect(() => {\r\n  console.log('有執行, num:', num.value)\r\n  if (num.value === 3) stopWatchEffect()\r\n})\r\nfunction addNum () {\r\n  if (num.value === 3) return\r\n  num.value++\r\n}\r\n\r\n</script>\r\n\r\n<style lang='scss' scope></style>\r\n","import script from \"./WatchEffect.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WatchEffect.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","themeStore","state","theme","toRef","watchEddect1","ref","t1","t2","t3","t4","watchEffect","value","num","stopWatchEffect","console","log","addNum","__exports__"],"sourceRoot":""}